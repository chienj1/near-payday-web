{"version":3,"sources":["utils/config.js","utils/near.js","components/Wallet.js","components/utils/Cover.js","assets/img/cover_img.png","components/utils/Notifications.js","components/flowplace/AddPayflow.js","components/flowplace/StartPayflow.js","components/flowplace/InputAmmount.js","utils/flowplace.js","components/flowplace/Payflow.js","components/utils/Loader.js","components/flowplace/Payflows.js","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","logout","signOut","location","reload","Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Cover","name","coverImg","style","background","minHeight","maxWidth","src","alt","Button","defaultProps","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","AddPayflow","save","useState","deposit","setDeposit","show","setShow","handleClose","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","placeholder","onChange","e","value","Footer","disabled","StartPayflow","beginTime","setBeginTime","endTime","setEndTime","numofpay","setNumOfPay","receiver","setReceiver","parseInt","InputAmmount","description","ammount","setAmmount","GAS","createPayflow","payflow","uuid4","setPayflow","parseNearAmount","getPayflows","depositAssets","withdrawAssets","startPayment","updateAvailable","getPayment","killPayflow","Payflow","withdraw","getpay","update","killpay","owner","balance","initBalance","available","taken","start","isYours","enablePayment","then","resp","Col","hide","Card","Text","enable","Loader","role","Payflows","payflows","setPayflows","loading","setLoading","useCallback","getPayflowList","console","log","error","addPayflow","data","toast","addMorePay","reducePay","updatePayflowInfo","receivePayflow","removePay","useEffect","Row","xs","sm","lg","map","_payflow","App","setBalance","getBalance","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.9e305cb6.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || \"ffpay.looksrare.testnet\"; // line 1\r\n\r\nfunction environment(env) {\r\n  switch (env) {\r\n    case \"mainnet\": // line 5\r\n      return {\r\n        networkId: \"mainnet\",\r\n        nodeUrl: \"https://rpc.mainnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.near.org\",\r\n        helperUrl: \"https://helper.mainnet.near.org\",\r\n        explorerUrl: \"https://explorer.mainnet.near.org\",\r\n      };\r\n    case \"testnet\": // line 14\r\n      return {\r\n        networkId: \"testnet\",\r\n        nodeUrl: \"https://rpc.testnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.testnet.near.org\",\r\n        helperUrl: \"https://helper.testnet.near.org\",\r\n        explorerUrl: \"https://explorer.testnet.near.org\",\r\n      };\r\n    default:\r\n      throw Error(`Unknown environment '${env}'.`);\r\n  }\r\n}\r\n\r\nexport default environment;","import environment from \"./config\";\r\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\r\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst nearEnv = environment(\"testnet\");\r\n\r\nexport async function initializeContract() {\r\n    const near = await connect(\r\n      Object.assign(\r\n        { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\r\n        nearEnv\r\n      )\r\n    );\r\n    window.walletConnection = new WalletConnection(near);\r\n    window.accountId = window.walletConnection.getAccountId();\r\n    window.contract = new Contract(\r\n      window.walletConnection.account(),\r\n      nearEnv.contractName,\r\n      {\r\n        viewMethods: [\"getPayflow\", \"getPayflows\"],\r\n        changeMethods: [\"setPayflow\", \"depositAssets\", \"withdrawAssets\", \"startPayment\", \r\n                        \"killPayflow\", \"updateAvailable\", \"getPayment\"],\r\n      }\r\n    );\r\n  }\r\n\r\n  export async function accountBalance() {\r\n    return formatNearAmount(\r\n      (await window.walletConnection.account().getAccountBalance()).total,\r\n      2\r\n    );\r\n  }\r\n  \r\n  export async function getAccountId() {\r\n    return window.walletConnection.getAccountId();\r\n  }\r\n  \r\n  export function login() {\r\n    window.walletConnection.requestSignIn(nearEnv.contractName);\r\n  }\r\n  \r\n  export function logout() {\r\n    window.walletConnection.signOut();\r\n    window.location.reload();\r\n  }","import React from \"react\";\r\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\r\n\r\nconst Wallet = ({ address, amount, symbol, destroy }) => {\r\n  if (address) {\r\n    return (\r\n      <>\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant=\"light\"\r\n            align=\"end\"\r\n            id=\"dropdown-basic\"\r\n            className=\"d-flex align-items-center border rounded-pill py-1\"\r\n          >\r\n            {amount ? (\r\n              <>\r\n                {amount} <span className=\"ms-1\"> {symbol}</span>\r\n              </>\r\n            ) : (\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\r\n            )}\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu className=\"shadow-lg border-0\">\r\n            <Dropdown.Item\r\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\r\n              target=\"_blank\"\r\n            >\r\n              <Stack direction=\"horizontal\" gap={2}>\r\n                <i className=\"bi bi-person-circle fs-4\" />\r\n                <span className=\"font-monospace\">{address}</span>\r\n              </Stack>\r\n            </Dropdown.Item>\r\n\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item\r\n              as=\"button\"\r\n              className=\"d-flex align-items-center\"\r\n              onClick={() => {\r\n                destroy();\r\n              }}\r\n            >\r\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\r\n              Disconnect\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Wallet;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Cover = ({ name, login, coverImg }) => {\r\n  if ((name, login, coverImg)) {\r\n    return (\r\n      <div\r\n        className=\"d-flex justify-content-center flex-column text-center \"\r\n        style={{ background: \"#000\", minHeight: \"100vh\" }}\r\n      >\r\n        <div className=\"mt-auto text-light mb-5\">\r\n          <div\r\n            className=\" ratio ratio-1x1 mx-auto mb-2\"\r\n            style={{ maxWidth: \"320px\" }}\r\n          >\r\n            <img src={coverImg} alt=\"\" />\r\n          </div>\r\n          <h1>{name}</h1>\r\n          <p>Please connect your wallet to continue.</p>\r\n          <Button\r\n            onClick={login}\r\n            variant=\"outline-light\"\r\n            className=\"rounded-pill px-3 mt-3\"\r\n          >\r\n            Connect Wallet\r\n          </Button>\r\n        </div>\r\n        <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nCover.propTypes = {\r\n  name: PropTypes.string,\r\n};\r\n\r\nCover.defaultProps = {\r\n  name: \"\",\r\n};\r\n\r\nexport default Cover;","export default __webpack_public_path__ + \"static/media/cover_img.60bc5ae5.png\";","import React from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Notification = () => (\r\n  <ToastContainer\r\n    position=\"bottom-center\"\r\n    autoClose={5000}\r\n    hideProgressBar\r\n    newestOnTop\r\n    closeOnClick\r\n    rtl={false}\r\n    pauseOnFocusLoss\r\n    draggable={false}\r\n    pauseOnHover\r\n  />\r\n);\r\n\r\nconst NotificationSuccess = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst NotificationError = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst Props = {\r\n  text: PropTypes.string,\r\n};\r\n\r\nconst DefaultProps = {\r\n  text: \"\",\r\n};\r\n\r\nNotificationSuccess.propTypes = Props;\r\nNotificationSuccess.defaultProps = DefaultProps;\r\n\r\nNotificationError.propTypes = Props;\r\nNotificationError.defaultProps = DefaultProps;\r\n\r\nexport { Notification, NotificationSuccess, NotificationError };","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst AddPayflow = ({ save }) => {\r\n    const [deposit, setDeposit] = useState(0);\r\n\r\n    const isFormFilled = () => deposit;\r\n  \r\n    const [show, setShow] = useState(false);\r\n  \r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    return (\r\n        <>\r\n          <Button\r\n            onClick={handleShow}\r\n            variant=\"dark\"\r\n            className=\"rounded-pill px-0\"\r\n            style={{ width: \"38px\" }}\r\n          >\r\n            <i class=\"bi bi-plus\"></i>\r\n          </Button>\r\n          <Modal show={show} onHide={handleClose} centered>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>New Payflow</Modal.Title>\r\n            </Modal.Header>\r\n            <Form>\r\n              <Modal.Body>\r\n                <FloatingLabel\r\n                  controlId=\"inputdeposit\"\r\n                  label=\"Deposit\"\r\n                  className=\"mb-3\"\r\n                >\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"ammount\"\r\n                    onChange={(e) => {\r\n                        setDeposit(e.target.value);\r\n                    }}\r\n                  />\r\n                </FloatingLabel>\r\n              </Modal.Body>\r\n            </Form>\r\n            <Modal.Footer>\r\n              <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n                Close\r\n              </Button>\r\n              <Button\r\n                variant=\"dark\"\r\n                disabled={!isFormFilled()}\r\n                onClick={() => {\r\n                  save({}, deposit);\r\n                  handleClose();\r\n                }}\r\n              >\r\n                Save product\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </>\r\n      );\r\n    };\r\n    \r\n    AddPayflow.propTypes = {\r\n      save: PropTypes.func.isRequired,\r\n    };\r\n    \r\n    export default AddPayflow;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst StartPayflow = ({ id, save }) => {\r\n    const [beginTime, setBeginTime] = useState(\"\");\r\n    const [endTime, setEndTime] = useState(\"\");\r\n    const [numofpay, setNumOfPay] = useState(0);\r\n    const [receiver, setReceiver] = useState(\"\");\r\n    \r\n    const isFormFilled = () => beginTime && endTime && numofpay && receiver;\r\n    \r\n    const [show, setShow] = useState(false);\r\n    \r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    return (\r\n        <>\r\n          <Button\r\n            onClick={handleShow}\r\n            variant=\"dark\"\r\n            className=\"w-40 py-3\"\r\n          >\r\n            Start\r\n          </Button>\r\n          <Modal show={show} onHide={handleClose} centered>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Start Payflow cannot modify anything after start</Modal.Title>\r\n            </Modal.Header>\r\n            <Form>\r\n              <Modal.Body>\r\n                <FloatingLabel\r\n                  controlId=\"inputBeginTime\"\r\n                  label=\"BeginTime\"\r\n                  className=\"mb-3\"\r\n                >\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Time\"\r\n                    onChange={(e) => {\r\n                        setBeginTime(e.target.value);\r\n                    }}\r\n                  />\r\n                </FloatingLabel>\r\n                <FloatingLabel\r\n                  controlId=\"inputEndTime\"\r\n                  label=\"EndTime\"\r\n                  className=\"mb-3\"\r\n                >\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Time\"\r\n                    onChange={(e) => {\r\n                        setEndTime(e.target.value);\r\n                    }}\r\n                  />\r\n                </FloatingLabel>\r\n                <FloatingLabel\r\n                  controlId=\"inputNOP\"\r\n                  label=\"Place holder\"\r\n                  className=\"mb-3\"\r\n                >\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    placeholder=\"Place holder\"\r\n                    onChange={(e) => {\r\n                        setNumOfPay(e.target.value);\r\n                    }}\r\n                  />\r\n                </FloatingLabel>\r\n                <FloatingLabel\r\n                  controlId=\"inputReceiver\"\r\n                  label=\"Receiver\"\r\n                  className=\"mb-3\"\r\n                >\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Address\"\r\n                    onChange={(e) => {\r\n                        setReceiver(e.target.value);\r\n                    }}\r\n                  />\r\n                </FloatingLabel>\r\n              </Modal.Body>\r\n            </Form>\r\n            <Modal.Footer>\r\n              <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n                Close\r\n              </Button>\r\n              <Button\r\n                variant=\"dark\"\r\n                disabled={!isFormFilled()}\r\n                onClick={() => {\r\n                  save(id, beginTime, endTime, parseInt(numofpay), receiver);\r\n                  handleClose();\r\n                }}\r\n              >\r\n                Start\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </>\r\n      );\r\n    };\r\n    \r\n    StartPayflow.propTypes = {\r\n      id:  PropTypes.string.isRequired,\r\n      save: PropTypes.func.isRequired,\r\n    };\r\n    \r\n    export default StartPayflow;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst InputAmmount = ({ id, save, description }) => {\r\n    const [ammount, setAmmount] = useState(\"\");\r\n    \r\n    const isFormFilled = () => ammount;\r\n    \r\n    const [show, setShow] = useState(false);\r\n    \r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    return (\r\n        <>\r\n          <Button\r\n            onClick={handleShow}\r\n            className=\"w-40 py-3\"\r\n            variant=\"outline-dark\"\r\n          >\r\n            {description}\r\n          </Button>\r\n          <Modal show={show} onHide={handleClose} centered>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>{description}</Modal.Title>\r\n            </Modal.Header>\r\n            <Form>\r\n              <Modal.Body>\r\n                <FloatingLabel\r\n                  controlId=\"inputAmmount\"\r\n                  className=\"mb-3\"\r\n                >\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"ammount\"\r\n                    onChange={(e) => {\r\n                        setAmmount(e.target.value);\r\n                    }}\r\n                  />\r\n                </FloatingLabel>\r\n              </Modal.Body>\r\n            </Form>\r\n            <Modal.Footer>\r\n              <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n                Close\r\n              </Button>\r\n              <Button\r\n                variant=\"dark\"\r\n                disabled={!isFormFilled()}\r\n                onClick={() => {\r\n                  save(id, ammount);\r\n                  handleClose();\r\n                }}\r\n              >\r\n                Confirm\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </>\r\n      );\r\n    };\r\n    \r\n    InputAmmount.propTypes = {\r\n      id:  PropTypes.string.isRequired,\r\n      save: PropTypes.func.isRequired,\r\n      description: PropTypes.string.isRequired\r\n    };\r\n    \r\n    export default InputAmmount;\r\n","import { v4 as uuid4 } from \"uuid\";\r\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst GAS = 100000000000000;\r\n\r\nexport function createPayflow(payflow, deposit) {\r\n    payflow.id = uuid4();\r\n    return window.contract.setPayflow({ payflow }, GAS, parseNearAmount(deposit+\"\"));\r\n  }\r\n  \r\nexport function getPayflows() {\r\n  return window.contract.getPayflows();\r\n}\r\n\r\nexport async function depositAssets(id, deposit) {\r\n  await window.contract.depositAssets({ id: id }, GAS, parseNearAmount(deposit+\"\"));\r\n}\r\n\r\nexport async function withdrawAssets(id, ammount) {\r\n    await window.contract.withdrawAssets({ id: id, ammount: parseNearAmount(ammount+\"\") }, GAS);\r\n}\r\n\r\nexport async function startPayment(id, beginTime, endTime, numofpay, receiver) {\r\n    await window.contract.startPayment({ id: id, \r\n                                  beginTime: beginTime, \r\n                                    endTime: endTime, \r\n                                   numofpay: numofpay, \r\n                                   receiver: receiver }, GAS);\r\n}\r\n\r\nexport async function updateAvailable(id) {\r\n    await window.contract.updateAvailable({ id: id }, GAS);\r\n}\r\n\r\nexport async function getPayment(id, ammount) {\r\n    await window.contract.getPayment({ id: id, ammount: parseNearAmount(ammount+\"\") }, GAS);\r\n}\r\n\r\nexport async function killPayflow( id ) {\r\n  await window.contract.killPayflow({ id: id }, GAS);\r\n}","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Card, Button, Col, Stack } from \"react-bootstrap\";\r\nimport StartPayflow from \"./StartPayflow\";\r\nimport InputAmmount from \"./InputAmmount\";\r\nimport { startPayment, getPayflows } from \"../../utils/flowplace\";\r\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\n\r\nconst Payflow = ({ payflow, deposit, withdraw, update, getpay, killpay }) => {\r\n  const { id, beginTime, endTime, numofpay, receiver, owner, \r\n          balance, initBalance, available, taken, start } = payflow;\r\n\r\n  const account = window.walletConnection.account();\r\n  let isYours = owner === account.accountId || receiver === account.accountId;\r\n\r\n  const triggerKillPay  = () => { killpay(id) }; \r\n\r\n  const enablePayment = async (id, beginTime, endTime, numofpay, receiver) => {\r\n    startPayment(id, beginTime, endTime, numofpay, receiver).then((resp) => { getPayflows(); });\r\n  } \r\n\r\n  return (\r\n    <>\r\n    { true ? (\r\n      <Col key={id} hide={isYours}>\r\n        <Card className=\" h-100\">\r\n          <Card.Header>\r\n            <Stack direction=\"horizontal\" gap={3}>\r\n              <div>\r\n                <Button\r\n                  onClick={triggerKillPay}\r\n                  variant=\"dark\"\r\n                  className=\"rounded-pill px-0\"\r\n                  style={{ width: \"36px\" }}\r\n                >\r\n                  X\r\n                </Button>\r\n              </div>\r\n              <div>Sender: {owner}</div>\r\n            </Stack>      \r\n          </Card.Header>\r\n          <Card.Body className=\"d-flex  flex-column text-center\">\r\n            <Card.Title>To {receiver || \"unknown\"}</Card.Title>\r\n            <Card.Text className=\"flex-grow-1 \">{receiver}</Card.Text>\r\n            <Card.Text className=\"text-secondary\">\r\n              <div>balance: {formatNearAmount(balance) || \"null\"} Near</div>\r\n              <div>begin at: {beginTime || \"null\"}</div>\r\n              <div>end at: {endTime || \"null\"}</div>\r\n              <div>place holder: {numofpay || \"null\"}</div>\r\n              <div>started? {start? \"yes\" : \"no\"} </div>\r\n              { start ? (<div>\r\n                            <div>initBalance: {formatNearAmount(initBalance)} Near</div>\r\n                            <div>claimable: {formatNearAmount(available)} Near</div>\r\n                            <div>claimed: {formatNearAmount(taken)} Near</div>\r\n                        </div>) : (null) }\r\n            </Card.Text>\r\n            { !start ? (<div>\r\n              <InputAmmount id={id} save={withdraw} description={\"Withdraw\"} enable={true}/>\r\n              <InputAmmount id={id} save={deposit} description={\"Deposit\"} enable={true}/>\r\n              <StartPayflow id={id} save={enablePayment}/>\r\n            </div>) : (<div>\r\n              <InputAmmount id={id} save={getpay} description={\"Claim\"}/>\r\n            </div>)}\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>) : (\r\n        <span>placeholder</span>\r\n      )\r\n    }\r\n    </>\r\n  );\r\n};\r\n\r\nPayflow.propTypes = {\r\n  payflow: PropTypes.instanceOf(Object).isRequired,\r\n  deposit: PropTypes.func.isRequired,\r\n  withdraw: PropTypes.func.isRequired, \r\n  makestart: PropTypes.func.isRequired, \r\n  update: PropTypes.func.isRequired, \r\n  getpay: PropTypes.func.isRequired,\r\n  killpay: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Payflow;\r\n","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst Loader = () => (\r\n  <div className=\"d-flex justify-content-center\">\r\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  </div>\r\n);\r\nexport default Loader;","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport AddPayflow from \"./AddPayflow\";\r\nimport Payflow from \"./Payflow\";\r\nimport Loader from \"../utils/Loader\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { NotificationSuccess, NotificationError } from \"../utils/Notifications\";\r\nimport {\r\n  createPayflow,\r\n  getPayflows as getPayflowList,\r\n  depositAssets,\r\n  withdrawAssets,\r\n  startPayment,\r\n  updateAvailable,\r\n  getPayment,\r\n  killPayflow\r\n} from \"../../utils/flowplace\";\r\n\r\n\r\n\r\n\r\nconst Payflows = () => {\r\n  const [payflows, setPayflows] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getPayflows = useCallback( async () => {\r\n      try {\r\n        setLoading(true);\r\n        setPayflows(await getPayflowList());\r\n      } catch (error) {\r\n        console.log({ error });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  );\r\n\r\n  const addPayflow = async (data, deposit) => {\r\n    try {\r\n      createPayflow(data, deposit).then((resp) => { getPayflows(); });\r\n      toast(<NotificationSuccess text=\"Product added successfully.\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"Failed to create a product.\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const addMorePay = async (id, deposit) => {\r\n    try {\r\n      setLoading(true);\r\n      await depositAssets(id, deposit).then((resp) => { getPayflows(); });\r\n      toast(<NotificationSuccess text=\"Deposit successfully.\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"Deposit failed.\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const reducePay = async (id, ammount) => {\r\n    try {\r\n      await withdrawAssets(id, ammount).then((resp) => { getPayflows(); });\r\n      toast(<NotificationSuccess text=\"Withdraw successfully.\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"Withdraw failed\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const enablePayment = async (id, beginTime, endTime, numofpay, receiver) => {\r\n    try {\r\n      startPayment(id, beginTime, endTime, numofpay, receiver).then((resp) => { getPayflows(); });\r\n      toast(<NotificationSuccess text=\"....\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"....\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  } // not used\r\n\r\n  const updatePayflowInfo = async (id) => {\r\n    try {\r\n      await updateAvailable(id).then((resp) => { getPayflows(); });\r\n      toast(<NotificationSuccess text=\"....\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"....\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const receivePayflow = async (id, ammount) => {\r\n    try {\r\n      await getPayment(id, ammount).then((resp) => { getPayflows(); });\r\n      toast(<NotificationSuccess text=\"....\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"....\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const removePay = async (id) =>{\r\n    try {\r\n      await killPayflow(id).then((resp) => { getPayflows(); });\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"....\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { getPayflows(); }, []);\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n          <>\r\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n              <h1 className=\"fs-4 fw-bold mb-0\">Near PayDay</h1>\r\n              <AddPayflow save={addPayflow} />\r\n            </div>\r\n            <Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\r\n              {payflows.map((_payflow) => (\r\n                <Payflow payflow={{ ..._payflow, }}\r\n                         deposit={addMorePay}\r\n                         withdraw={reducePay}\r\n                         update={updatePayflowInfo}\r\n                         getpay={receivePayflow}\r\n                         killpay={removePay}\r\n                />\r\n              ))}\r\n            </Row>\r\n          </>\r\n        ) : (\r\n              <Loader />\r\n            )\r\n      }\r\n    </>\r\n  );\r\n\r\n}\r\n\r\nexport default Payflows;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Container, Nav } from \"react-bootstrap\";\nimport \"./App.css\";\nimport { login, logout as destroy, accountBalance } from \"./utils/near\";\nimport Wallet from \"./components/Wallet\";\nimport Cover from \"./components/utils/Cover\";\nimport coverImg from \"./assets/img/cover_img.png\"\nimport { Notification } from \"./components/utils/Notifications\";\nimport Payflows from \"./components/flowplace/Payflows\";\n\nfunction App() {\n  const account = window.walletConnection.account();\n  const [balance, setBalance] = useState(\"0\");\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => { getBalance();}, [getBalance]);\n\n  return (\n    <>\n      <Notification />\n      {account.accountId ? (\n        <Container fluid=\"md\">\n          <Nav className=\"justify-content-end pt-3 pb-5\">\n            <Nav.Item>\n              <Wallet\n                address={account.accountId}\n                amount={balance}\n                symbol=\"NEAR\"\n                destroy={destroy}\n              />\n            </Nav.Item>\n          </Nav>\n          <main> <Payflows /></main>\n        </Container>\n      ) : (\n        <Cover name=\"Near PayDay\" login={login} coverImg={coverImg} />\n      )}\n    </>\n  );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { initializeContract } from \"./utils/near\";\n\nimport \"bootstrap\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\nreportWebVitals();"],"sourceRoot":""}